import{_ as C}from"./clearAll.7adc669e.js";import{_ as G}from"./plugin-vue_export-helper.2100c508.js";import{Z as I,o as L,v as P,J as E,K as F,z as u}from"./vendor.f1f330b7.js";var R="./dist/videoPlane.ae6e9b2c.mp4";const z=I({mixins:[C],data(){return{interval:null}},methods:{init(){let e=this,d,o,h,a,l;function _(){d=new e.$three.PerspectiveCamera(70,window.innerWidth/window.innerHeight,1,2e4),d.position.set(120,20,120)}function $(){o=new e.$three.Scene,o.background=new e.$three.Color(15790320)}function x(){h=new e.$three.DirectionalLight(16777215,1),h.position.set(0,500,300),o.add(h),o.add(new e.$three.AmbientLight(13421772))}function v(){let t=new e.$three.PlaneBufferGeometry(1e4,1e4),r=new e.$three.MeshLambertMaterial({color:8421504,side:e.$three.DoubleSide,opcity:.5}),n=new e.$three.Mesh(t,r);n.position.y=-5,n.rotation.x=-Math.PI/2,n.receiveShadow=!0,o.add(n)}let c;function g(t){c=[];let r=new e.$three.BoxGeometry(10,10,10);for(let n=0;n<t;n++){let i=new e.$three.Mesh(r,new e.$three.MeshLambertMaterial({color:Math.random()*16777215}));i.position.x=Math.random()*200-80,i.position.y=0,i.position.z=Math.random()*200-80,i.scale.x=Math.random()+.5,i.scale.y=Math.random()+.5,i.scale.z=Math.random()+.5,o.add(i),c.push(i)}}function y(){a=new e.$three.WebGLRenderer({antialias:!0,autoClear:!0}),l=document.getElementById("content"),l.appendChild(a.domElement),l.lastElementChild.style="width: 100%; height: 100%;",a.setPixelRatio(window.devicePixelRatio),a.setSize(window.innerWidth,window.innerHeight)}function M(t){let r=document.createElement("canvas"),n=r.getContext("2d");n.fillStyle="#333",n.font="Bold 100px Arial",n.lineWidth=14,n.fillText(t,4,104);let i=new e.$three.Texture(r);i.needsUpdate=!0;let m=new e.$three.SpriteMaterial({map:i}),s=new e.$three.Sprite(m);s.scale.set(.5*100,.25*100,.75*100),s.position.set(55,5,80),o.add(s)}function b(){let[t,r]=[120,80],n=new e.$three.PlaneGeometry(t,r),i=new e.$three.MeshPhongMaterial({side:e.$three.DoubleSide}),m=document.getElementById("video"),s=new e.$three.VideoTexture(m);s.minFilter=e.$three.LinearFilter,s.magFilter=e.$three.LinearFilter,s.format=e.$three.RGBFormat,i.map=s;let f=new e.$three.Mesh(n,i);f.position.set(t/2,r/2,0),o.add(f)}let S=.015;function B(){if(c)for(let t=0;t<c.length;t++)c[t].rotation.y+=S}function p(){e.stats.begin(),B(),a.render(o,d),e.stats.end(),e.animations=requestAnimationFrame(p)}(function(){_(),$(),x(),v(),g(20),M("\u5B9E\u9A8C\u4E2D"),b(),y(),new e.$OrbitControls(d,a.domElement);let t=new e.$three.AxesHelper(1500);o.add(t),p()})(),[this.scene,this.render,this.dom]=[o,a,l],this.initStats()}},mounted(){this.init()},beforeUnmount(){this.remove(),clearInterval(this.interval),this.interval=null}}),w=e=>(E("data-v-ee5dfb18"),e=e(),F(),e),A=w(()=>u("div",{class:"content",id:"content"},null,-1)),H=w(()=>u("video",{id:"video",autoplay:"",loop:"",muted:"",style:{position:"absolute",top:"0",width:"0px"}},[u("source",{src:R})],-1)),T=[A,H];function W(e,d,o,h,a,l){return L(),P("div",null,T)}var j=G(z,[["render",W],["__scopeId","data-v-ee5dfb18"]]);export{j as default};
