import{_ as D}from"./clearAll.7adc669e.js";import{_ as R}from"./plugin-vue_export-helper.2100c508.js";import{Q as k,o as U,u as H,A as O,D as W,v as _}from"./vendor.56d77867.js";var z="./dist/videoPlane.ae6e9b2c.mp4";const j=k({mixins:[D],data(){return{interval:null}},methods:{init(){let e=this,o=new this.$three.PerspectiveCamera(70,window.innerWidth/window.innerHeight,1,2e4);o.position.set(146.27049638580658,82.0261963941413,129.27874685379336);let t=new this.$three.Scene;t.background=new this.$three.Color(15790320);let u=new this.$three.DirectionalLight(16777215,1);u.position.set(0,500,300),t.add(u),t.add(new this.$three.AmbientLight(13421772));let v=new this.$three.PlaneBufferGeometry(1e4,1e4),g=new this.$three.MeshLambertMaterial({color:8421504,side:this.$three.DoubleSide}),s=new this.$three.Mesh(v,g);s.position.y=-5,s.rotation.x=-Math.PI/2,s.receiveShadow=!0,t.add(s);let l=[],A=new this.$three.BoxGeometry(10,10,10);for(let a=0;a<20;a++){let i=new this.$three.Mesh(A,new this.$three.MeshLambertMaterial({color:Math.random()*16777215}));i.position.x=Math.random()*200-80,i.position.y=0,i.position.z=Math.random()*200-80,i.scale.x=Math.random()+.5,i.scale.y=Math.random()+.5,i.scale.z=Math.random()+.5,t.add(i),l.push(i)}let r=new this.$three.WebGLRenderer({antialias:!0}),f=document.getElementById("content");f.appendChild(r.domElement),r.setPixelRatio(window.devicePixelRatio),r.setSize(window.innerWidth,window.innerHeight),f.lastElementChild.style="width: 100%; height: 100%;",new this.$OrbitControls(o,r.domElement);let B=.015;function C(){if(l)for(let a=0;a<l.length;a++)l[a].rotation.y+=B}let d=document.createElement("canvas");d.setAttribute("width","700px"),d.setAttribute("height","700px");let h=e.$echarts.init(d),w={color:["#3BA0FF"],legend:{data:[]},tooltip:{trigger:"axis"},grid:{left:0,right:"3%",containLabel:!0},xAxis:{type:"category",data:["2022-01-31","2022-02-01","2022-02-02","2022-02-03","2022-02-04","2022-02-05","2022-02-06","2022-02-07","2022-02-08","2022-02-09","2022-02-10","2022-02-11","2022-02-12","2022-02-13","2022-02-14","2022-02-15","2022-02-16","2022-02-17","2022-02-18","2022-02-19","2022-02-20","2022-02-21","2022-02-22","2022-02-23","2022-02-24","2022-02-25","2022-02-26","2022-02-27","2022-02-28","2022-03-01"],axisTick:{show:!1},axisLine:{show:!1}},yAxis:{type:"value",axisTick:{show:!1},axisLine:{show:!1},axisLabel:{formatter:"{value}\u6B21\u6570"},splitLine:{lineStyle:{color:["#F9F9F9"],width:1,type:"solid"}}},series:[{name:"\u7D20\u6750\u64AD\u653E\u6B21\u6570",type:"line",data:[58945653,59163748,60361445,61972879,62960206,63949855,64844955,69092575,74221083,77486502,79514446,80028363,75809684,74225553,77803923,77889688,79180937,80123732,84853250,82568665,81889979,84928426,85209769,85440691,86183455,85389254,80641140,76005874,80310908,77604971]}]},n,p;h.setOption(w),this.interval=setInterval(a=>{let i=[];for(let L=0;L<30;L++)i.push(Math.random()*(10-5+1)+5);w.series[0].data=i,h.setOption(w)},2e3);let I=new e.$three.TextureLoader().load(h.getDataURL());n=new e.$three.SpriteMaterial({transparent:!0,map:I,side:e.$three.DoubleSide,opacity:.8}),p=new e.$three.Sprite(n),p.scale.set(120,120,1),p.position.set(20,60,20),t.add(p),h.on("finished",()=>{n.map=new e.$three.CanvasTexture(d),n.map.needsUpdate=!0});let y=document.createElement("canvas"),c=y.getContext("2d");c.fillStyle="#333",c.font="Bold 100px Arial",c.lineWidth=4,c.fillText("\u5B9E\u9A8C\u4E2D",4,104);let b=new e.$three.Texture(y);b.needsUpdate=!0;let E=new e.$three.SpriteMaterial({map:b}),x=new e.$three.Sprite(E);x.scale.set(.5*100,.25*100,.75*100),x.position.set(15,2,0),t.add(x);let P=new e.$three.PlaneGeometry(50,50),M=new e.$three.MeshPhongMaterial({side:e.$three.DoubleSide}),G=document.getElementById("video"),m=new e.$three.VideoTexture(G);m.minFilter=e.$three.LinearFilter,m.magFilter=e.$three.LinearFilter,m.format=e.$three.RGBFormat,M.map=m;let $=new e.$three.Mesh(P,M);$.position.set(40,10,40),$.rotation.y=.8,t.add($);let T=new this.$three.AxesHelper(500);t.add(T);function S(){e.stats.begin(),n.map.needsUpdate=!0,C(),r.render(t,o),e.stats.end(),e.animations=requestAnimationFrame(S)}S(),[this.scene,this.render,this.dom]=[t,r,f],this.initStats()}},mounted(){this.init()},beforeUnmount(){this.remove(),clearInterval(this.interval),this.interval=null}}),F=e=>(O("data-v-0088971b"),e=e(),W(),e),V=F(()=>_("div",{class:"content",id:"content"},null,-1)),q=F(()=>_("video",{id:"video",autoplay:"",loop:"",muted:"",style:{position:"absolute",top:"0",width:"0px"}},[_("source",{src:z})],-1)),N=[V,q];function Q(e,o,t,u,v,g){return U(),H("div",null,N)}var Y=R(j,[["render",Q],["__scopeId","data-v-0088971b"]]);export{Y as default};
