import{k as m,l as X,m as Y,n as J,r as K,o as _,p as S,q as Q,v as Z,u as E,s as r,t as z,x as B,b as j,y as ee,F as D,z as te,A as ne,B as ie,C as oe,w as ae,D as re}from"./vendor.a1235956.js";import{W as se,i as le,S as de}from"./waternormals.5d59a4ae.js";import{r as ce}from"./index.ab2cee93.js";import{t as ue}from"./temp4.1a3ebc22.js";import{_ as me}from"./plugin-vue_export-helper.2100c508.js";const k=w=>(ne("data-v-22cf0114"),w=w(),ie(),w),fe=k(()=>r("p",{id:"tip"},"Wating Loading..",-1)),pe={class:"warp"},ve=k(()=>r("div",{style:{flex:"1"}},null,-1)),we={class:"main"},ge={class:"card"},he=["src"],xe={class:"introduce"},ye=k(()=>r("div",{style:{flex:"1"}},null,-1)),Ce={setup(w){const{appContext:I}=oe(),i=I.config.globalProperties.$three,G=I.config.globalProperties.$OrbitControls;let d=m(null),H=ce.slice(2,99),g=m([]);g=H.map(e=>({path:e.path,url:e.img,der:e.der})),g.pop();let f=m(!1),R=m(0),F=m(!1),P=m(!1);const $=()=>{if(P.value=!0,window.sessionStorage.loading)P.value=!1,f.value=!1;else if(R.value++,R.value==g.length){let e=document.getElementById("tip");e.style.opacity=1,e.innerText="Card Loading Completed",F?window.sessionStorage.loading=!1:e.style.opacity=0}},b=X(()=>!0);let T=!1,h=null;const A=e=>{if(window.innerWidth<700)return!1;if(T==!1){let t=e.currentTarget,n=e.currentTarget.firstElementChild,o=e.clientX-t.offsetLeft-t.offsetWidth/2,c=e.clientY-t.offsetTop-t.offsetHeight/2;n.style.transform=`matrix3d( 1,0,0,${.1*(o/3e4)},0,1,0,${.1*(c/3e4)},0,0,1,0,0,0,0,1)`,T=!0}else h||(h=setTimeout(()=>{clearTimeout(h),h=null,T=!1},60))},L=e=>{let t=e.currentTarget.firstElementChild;t.style.transform=" matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"};let u,s,a,x,p,y;function V(){a=new i.WebGLRenderer({antialias:!0,alpha:!0}),a.setPixelRatio(window.devicePixelRatio),a.setSize(window.innerWidth,window.innerHeight),a.toneMapping=i.ACESFilmicToneMapping,d.value.appendChild(a.domElement),s=new i.Scene,u=new i.PerspectiveCamera(55,window.innerWidth/window.innerHeight,1,2e4),u.position.set(30,30,100),y=new i.Vector3;const e=new i.PlaneGeometry(1e4,1e4);p=new se(e,{textureWidth:1024,textureHeight:1024,waterNormals:new i.TextureLoader().load(le,function(C){C.wrapS=C.wrapT=i.RepeatWrapping,document.getElementById("tip")}),sunDirection:new i.Vector3,sunColor:16762902,waterColor:7695,distortionScale:3.7,fog:s.fog!==void 0}),p.rotation.x=-Math.PI/2,s.add(p);const t=new de;t.scale.setScalar(1e4),s.add(t);const n=t.material.uniforms;n.turbidity.value=10,n.rayleigh.value=2,n.mieCoefficient.value=.005,n.mieDirectionalG.value=.18;const o={elevation:5,azimuth:170},c=new i.PMREMGenerator(a);function l(){const C=i.MathUtils.degToRad(90-o.elevation),O=i.MathUtils.degToRad(o.azimuth);y.setFromSphericalCoords(1,C,O),t.material.uniforms.sunPosition.value.copy(y),p.material.uniforms.sunDirection.value.copy(y).normalize(),s.environment=c.fromScene(t).texture}let v=new G(u,a.domElement);v.maxPolarAngle=Math.PI*.495,v.target.set(23,4,0),v.minDistance=40,v.maxDistance=200,v.update(),l(),window.addEventListener("resize",N)}function N(){u.aspect=window.innerWidth/window.innerHeight,u.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight)}function M(){x=requestAnimationFrame(M),U()}function U(){p.material.uniforms.time.value+=1/60,a.render(s,u)}Y(()=>{V(),M()});function W(e){if(e.length>0)e.forEach(t=>{W(t)});else{let t=e.children.filter(n=>n);t.forEach(n=>{n.children.length?W(n):(n.geometry&&n.geometry.dispose&&n.geometry.dispose(),n.material&&n.material.dispose&&n.material.dispose(),n.clear(),n=null)}),e.clear(),t=null}}function q(e){e.renderLists.dispose(),e.dispose(),e.forceContextLoss(),e.domElement=null,e.content=null,e=null}return J(()=>{s&&W(s),a&&q(a),x&&(cancelAnimationFrame(x),x=null,i.Cache.clear()),d.value&&d.value.removeChild(d.value.firstChild)}),(e,t)=>{const n=K("router-link");return _(),S(D,null,[Q(r("div",{class:ee(["loading",E(f)?"":"loading_active"])},[fe,z(ue,{id:"load",style:{transform:"rotate(-90deg)"}}),E(b)?(_(),S("button",{key:0,class:"go__in",onClick:t[0]||(t[0]=o=>B(f)?f.value=!1:f=!1)}," Go It ")):j("",!0)],2),[[Z,E(P)]]),r("div",pe,[r("div",{id:"canvas",ref:(o,c)=>{c.canvas=o,B(d)?d.value=o:d=o}},null,512),ve,r("ul",we,[(_(!0),S(D,null,te(E(g),(o,c)=>(_(),S("li",{key:c,class:"card_warp"},[z(n,{tag:"a",to:{path:o.path}},{default:ae(()=>[r("div",{class:"matrix_warp",onPointerleave:t[2]||(t[2]=l=>L(l)),onPointermove:t[3]||(t[3]=l=>A(l)),onClick:t[4]||(t[4]=l=>L(l))},[r("div",ge,[r("img",{onLoad:t[1]||(t[1]=l=>$()),src:o.url,alt:""},null,40,he),r("div",xe,re(o.der),1)])],32)]),_:2},1032,["to"])]))),128))]),ye])],64)}}};var We=me(Ce,[["__scopeId","data-v-22cf0114"]]);export{We as default};
