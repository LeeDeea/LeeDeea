import{_ as U}from"./clearAll.7adc669e.js";import{_ as Z}from"./plugin-vue_export-helper.2100c508.js";import{_ as q,o as L,p as j,A as J,B as K,s as O}from"./vendor.b27d2840.js";const Q=q({mixins:[U],methods:{init(){let l=this,c=new this.$three.Scene;c.fog=new this.$three.Fog("#000033",200,300),c.background=new this.$three.Color("#000033");let h=new this.$three.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3),P=document.getElementById("content"),y=new this.$three.WebGLRenderer;y.setSize(window.innerWidth,window.innerHeight),P.appendChild(y.domElement),P.lastElementChild.style="width: 100%; height: 100%;";function B(t,i,o){o=o*(Math.PI/180);let s=Math.cos(o)*(t.x-i.x)-Math.sin(o)*(t.y-i.y)+i.x,d=Math.sin(o)*(t.x-i.x)+Math.cos(o)*(t.y-i.y)+i.y;return{x:s,y:d}}let e={};e.r=0,e.g=0,e.b=255,e.rs=0,e.gs=0,e.bs=0,e.rt=0,e.gt=0,e.bt=255;function S(t,i,o){function s(d){return d>255&&(d=255),d<0&&(d=0),d}return t=s(t),i=s(i),o=s(o),"rgb("+t+","+i+","+o+")"}function V(t){return t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),t&&t.length===4?"0x"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}function I(t,i,o){return V(S(t,i,o))}let x=[],r=[];function k(t,i,o){r.doublehelix={},r.doublehelix.particles=new l.$three.BufferGeometry,r.ladder={},r.ladder.particles=new l.$three.BufferGeometry;let s=0,d=0,n=20,M=7,$,v,m,b=[];for(let w=0;w<o*n;w++){d+=1/n;let f=5,_=d+p(10)/10,z=0;$={x:f,y:0},v={x:0,y:0},s+=180+M/n,m=B($,v,s),s%=360,f=m.x,z=m.y;let A=new l.$three.Vector3(f,_,z);b.push(A)}r.doublehelix.particles.setFromPoints(b),s=0,d=0;let N=4;b=[];for(let w=0;w<=o/N;w++){for(let f=0;f<n*2;f++){let _=p(50)/10,z=d+p(4)/10,A=0;$={x:_,y:0},v={x:0,y:0},s+=180,m=B($,v,s),s%=360,_=m.x,A=m.y;let R=new l.$three.Vector3(_,z,A);b.push(R)}r.ladder.particles.setFromPoints(b),s+=M*N,s%=360,d+=N}return r.doublehelix.material=new l.$three.PointsMaterial({size:1,color:"#0000ff",transparent:!0,depthWrite:!1,opacity:.5}),r.ladder.material=new l.$three.PointsMaterial({size:1,color:"#0000ff",transparent:!0,depthWrite:!1,opacity:.5}),r.doublehelix.system=new l.$three.Points(r.doublehelix.particles,r.doublehelix.material),r.ladder.system=new l.$three.Points(r.ladder.particles,r.ladder.material),r.doublehelix.system.add(r.ladder.system),c.add(r.doublehelix.system),r.doublehelix.system.position.x=t[0],r.doublehelix.system.position.y=t[1],r.doublehelix.system.position.z=t[2],r.doublehelix.system.rotation.x=i[0],r.doublehelix.system.rotation.y=i[1],r.doublehelix.system.rotation.z=i[2],r}for(let t=0;t<50;t++){let i=[p(100),p(100),a(0,1e3)],o=[a(0,360),a(0,360),a(0,360)];x.push(k(i,o,300))}let E=500,D=new this.$three.BufferGeometry,F=[],W;for(let t=0;t<E;t++){let i=p(100),o=p(100),s=a(0,1e3);W=new this.$three.Vector3(i,o,s),F.push(W)}D.setFromPoints(F);let Y=new this.$three.PointsMaterial({color:16777215,size:10,blending:this.$three.AdditiveBlending,transparent:!0,depthWrite:!1,opacity:.1}),u=new this.$three.Points(D,Y);c.add(u),h.position.z=-300,u.position.z=-300,h.position.y=0,h.lookAt(new this.$three.Vector3(0,0,0));function p(t){return a(-t,t*2)}function a(t,i){return Math.floor(Math.random()*i)+t}let C=0,G=.7,g=0;function X(){if(g+=1,h.position.z+=G,h.rotation.z+=.002,h.position.y=Math.sin(g/100)*20,h.rotation.y=Math.sin(g/100)/10,h.position.x=Math.sin(g/100)*20,u.position.z+=G,u.rotation.z-=.001,C-=1,C<0){let n=[p(200),p(200),h.position.z+1e3],M=[a(0,360),a(0,360),a(0,360)];x.push(k(n,M,300)),C=10}if(Math.abs(e.r-e.rt)>=5&&(e.r+=e.rs),Math.abs(e.g-e.gt)>=5&&(e.g+=e.gs),Math.abs(e.b-e.bt)>=5&&(e.b+=e.bs),Math.abs(e.r-e.rt)<5&&Math.abs(e.g-e.gt)<5&&Math.abs(e.b-e.bt)<5){e.rt=a(0,255),e.gt=a(0,255),e.bt=a(0,255);let n=50;e.rt>e.r?e.rs=a(5,45)/n:e.rs=-a(5,45)/n,e.gt>e.g?e.gs=a(5,45)/n:e.gs=-a(5,45)/n,e.bt>e.b?e.bs=a(5,45)/n:e.bs=-a(5,45)/n}let t=Math.round(e.r),i=Math.round(e.g),o=Math.round(e.b),s=3;h.rotation.z-=.001,c.fog=new l.$three.Fog(S(Math.round(t/s),Math.round(i/s),Math.round(o/s)),1e3,10),c.background=new l.$three.Color(S(Math.round(t/s),Math.round(i/s),Math.round(o/s)));for(let n=0;n<x.length;n++)r=x[n],r.doublehelix.system.translateY(.1),r.doublehelix.system.material.color.setHex(I(t,i,o)),r.ladder.system.material.color.setHex(I(t,i,o)),r.doublehelix.system.position.z<h.position.z-500&&(c.remove(r.doublehelix.system),x.splice(n,1));let d=u.geometry.attributes.position.array;u.material.color.setHex(I(t,i,o));for(let n=0;n<d.length;n+=3)d[n];u.geometry.verticesNeedUpdate=!0}this.initStats();let H=function(){l.stats.begin(),X(),y.render(c,h),l.stats.end(),l.animations=requestAnimationFrame(H)};H(),[this.scene,this.render]=[c,y]}},mounted(){this.init()},beforeUnmount(){this.remove()}}),T=l=>(J("data-v-3801bac9"),l=l(),K(),l),ee={class:"content",id:"content",ref:"threeCanvas"},te=T(()=>O("div",{class:"count"},null,-1)),re=[te];function ie(l,c,h,P,y,B){return L(),j("div",ee,re,512)}var le=Z(Q,[["render",ie],["__scopeId","data-v-3801bac9"]]);export{le as default};
